import{m as L,b as B}from"./VBtn-83d1d92c.js";import{d as Q,e as W,m as X,a as Y,u as ee,V as T,f as te,b as ne,c as le}from"./VInput-4930e2c4.js";import{f as M}from"./forwardRefs-db20782f.js";import{p as N,l as E,r as b,m as l,z as ae,c as h,ab as oe,B as I,T as ue,a5 as ie,a6 as _,ah as re,Z as A,ad as se}from"./index-ee182a8d.js";import{I as ce}from"./VAvatar-dc8d21dd.js";const de=N({...L(),...Q()},"VForm"),be=E()({name:"VForm",props:de(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,P){let{slots:c,emit:V}=P;const n=W(e),a=b();function d(r){r.preventDefault(),n.reset()}function g(r){const s=r,o=n.validate();s.then=o.then.bind(o),s.catch=o.catch.bind(o),s.finally=o.finally.bind(o),V("submit",s),s.defaultPrevented||o.then(k=>{var m;let{valid:C}=k;C&&((m=a.value)==null||m.submit())}),s.preventDefault()}return B(()=>{var r;return l("form",{ref:a,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:d,onSubmit:g},[(r=c.default)==null?void 0:r.call(c,n)])}),M(n,a)}});const fe=["color","file","time","date","datetime-local","week","month"],me=N({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...X(),...Y()},"VTextField"),Pe=E()({name:"VTextField",directives:{Intersect:ce},inheritAttrs:!1,props:me(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,P){let{attrs:c,emit:V,slots:n}=P;const a=ae(e,"modelValue"),{isFocused:d,focus:g,blur:r}=ee(e),s=h(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:(a.value??"").toString().length),o=h(()=>{if(c.maxlength)return c.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),k=h(()=>["plain","underlined"].includes(e.variant));function C(t,u){var i,f;!e.autofocus||!t||(f=(i=u[0].target)==null?void 0:i.focus)==null||f.call(i)}const m=b(),p=b(),v=b(),z=h(()=>fe.includes(e.type)||e.persistentPlaceholder||d.value||e.active);function y(){var t;v.value!==document.activeElement&&((t=v.value)==null||t.focus()),d.value||g()}function O(t){V("mousedown:control",t),t.target!==v.value&&(y(),t.preventDefault())}function U(t){y(),V("click:control",t)}function j(t){t.stopPropagation(),y(),A(()=>{a.value=null,se(e["onClick:clear"],t)})}function Z(t){var i;const u=t.target;if(a.value=u.value,(i=e.modelModifiers)!=null&&i.trim&&["text","search","password","tel","url"].includes(e.type)){const f=[u.selectionStart,u.selectionEnd];A(()=>{u.selectionStart=f[0],u.selectionEnd=f[1]})}}return B(()=>{const t=!!(n.counter||e.counter!==!1&&e.counter!=null),u=!!(t||n.details),[i,f]=oe(c),[{modelValue:ve,...$}]=T.filterProps(e),[q]=te(e);return l(T,I({ref:m,modelValue:a.value,"onUpdate:modelValue":x=>a.value=x,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},i,$,{centerAffix:!k.value,focused:d.value}),{...n,default:x=>{let{id:F,isDisabled:S,isDirty:R,isReadonly:G,isValid:H}=x;return l(ne,I({ref:p,onMousedown:O,onClick:U,"onClick:clear":j,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},q,{id:F.value,active:z.value||R.value,dirty:R.value||e.dirty,disabled:S.value,focused:d.value,error:H.value===!1}),{...n,default:J=>{let{props:{class:w,...K}}=J;const D=ue(l("input",I({ref:v,value:a.value,onInput:Z,autofocus:e.autofocus,readonly:G.value,disabled:S.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:y,onBlur:r},K,f),null),[[ie("intersect"),{handler:C},null,{once:!0}]]);return l(_,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?l("div",{class:w,"data-no-activator":""},[n.default(),D]):re(D,{class:w}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:u?x=>{var F;return l(_,null,[(F=n.details)==null?void 0:F.call(n,x),t&&l(_,null,[l("span",null,null),l(le,{active:e.persistentCounter||d.value,value:s.value,max:o.value},n.counter)])])}:void 0})}),M({},m,p,v)}});export{be as V,Pe as a};
